{"version":3,"sources":["favorite.service.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,UAAA,EAAmB,MAAO,eAAA,CAAgB;AACnD,OAAO,EAAE,IAAA,EAAK,MAAO,eAAA,CAAgB;AACrC,OAAO,uBAAA,CAAwB;AAC/B,OAAO,6BAAA,CAA8B;AAGrC,MAAM;IAEF,YAAmB,IAAU;QAAV,SAAI,GAAJ,IAAI,CAAM;QAD7B,aAAQ,GAAG,EAAE,KAAK,EAAE,EAAE,EAAuB,CAAC;IAE9C,CAAC;IAGD,eAAe;QACX,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC;IAClF,CAAC;IAED,WAAW,CAAC,OAAO;QACf,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC;QACvF,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC;QACrE,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;YACxD,IAAI,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,GAAG,IAAI,MAAM,CAAC,GAAG,CAAC,GAAG,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAChG,EAAE,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBACzB,MAAM,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC;YAClC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBAClC,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACzE,MAAM,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC;YAClC,CAAC;QACL,CAAC;QAAA,IAAI,CAAA,CAAC;YACF,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAClC,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YACzE,MAAM,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC;QAClC,CAAC;IAEL,CAAC;IACD,cAAc,CAAC,KAAK;QAChB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;QACtE,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QACrC,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;QACzE,MAAM,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC;IAClC,CAAC;;AACE,0BAAU,GAA0B;IAC3C,EAAE,IAAI,EAAE,UAAU,EAAE;CACnB,CAAC;AACF,kBAAkB;AACX,8BAAc,GAAmE,MAAM;IAC9F,EAAC,IAAI,EAAE,IAAI,GAAG;CACb,CAAC","file":"favorite.service.js","sourceRoot":"","sourcesContent":["import { FavoriteListModel } from './../../models/favorite.model';\nimport { Injectable, Inject } from \"@angular/core\";\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/toPromise';\n\n\nexport class FavoriteService {\n    favorite = { items: [] } as FavoriteListModel;\n    constructor(public http: Http) {\n    }\n\n\n    getFavoriteList(): Promise<FavoriteListModel> {\n        return JSON.parse(window.localStorage.getItem('favproduct')) || this.favorite;\n    }\n\n    addFavorite(product): Promise<FavoriteListModel> {\n        this.favorite = JSON.parse(window.localStorage.getItem('favproduct')) || this.favorite;\n        this.favorite.items = this.favorite.items ? this.favorite.items : [];\n        if (this.favorite.items && this.favorite.items.length > 0) {\n            let chkFavorite = this.favorite.items.filter(function (obj) { return obj._id == product._id; });\n            if (chkFavorite.length > 0) {\n                return this.getFavoriteList();\n            } else {\n                this.favorite.items.push(product);\n                window.localStorage.setItem('favproduct', JSON.stringify(this.favorite));\n                return this.getFavoriteList();\n            }\n        }else{\n            this.favorite.items.push(product);\n            window.localStorage.setItem('favproduct', JSON.stringify(this.favorite));\n            return this.getFavoriteList();\n        }\n\n    }\n    removeFavorite(index): Promise<FavoriteListModel> {\n        this.favorite = JSON.parse(window.localStorage.getItem('favproduct'));\n        this.favorite.items.splice(index, 1);\n        window.localStorage.setItem('favproduct', JSON.stringify(this.favorite));\n        return this.getFavoriteList();\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Http, },\n];\n}\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}